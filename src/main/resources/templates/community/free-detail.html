<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>심봉사 | 자유게시판 상세페이지</title>
    <link rel="stylesheet" href="/css/font/font.css">
    <link rel="stylesheet" href="/css/main/header.css">
    <link rel="stylesheet" href="/css/community/free-detail.css">
    <link rel="stylesheet" href="/css/main/footer.css">
    <link rel="shortcut icon" href="/image/pavicon.png">
</head>
<body>
    <!-- 헤더 -->
    <header th:insert="~{main/header.html :: mainHeader}"></header>
     <!-- 전체 div -->
     <div>
        <div style="background-color: #fff;">
            <div class="main">
                <main class="main-main">
                    <h3 class="main-title" th:text="${freeBoardDTO.boardTitle}">그 봄. 아직 봄.</h3>
                    <div class="user">
                        <div class="user-info">
                            <div>
                                <div>
                                    <p class="user-name" th:text="${freeBoardDTO.memberDTO.memberName}">케토루</p>
                                </div>
                                <div class="user-see">
                                    <span th:text="${#temporals.format(freeBoardDTO.createdDate, 'yyyy.MM.dd HH:mm')}">5시간 전</span>
                                    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="user-svg"><circle cx="12" cy="12" r="4"></circle></svg>
                                    <span th:text="댓글수 + ${freeBoardDTO.replyCount}">댓글수 25</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="review-contant">
                        <div class="review-post">
                            <div class="img-wrapper">
                                <img src="https://steadio.imgix.net/creator-posts/079d1a28-343d-4f6a-8889-e9328964aafd/creatorPostImage/269f44f6-9d34-47bb-83a2-7d99d86a5280.jpg?auto=format%2Ccompress&fit=max&lossless=true&w=1240">
                            </div>
                        </div>
                        <p th:text="${freeBoardDTO.boardContent}">내용</p>
                        <div style="height: 40px;"></div>
                    </div>
                    <div class="review-line"></div>
                    <div style="height: 28px;"></div>
                    <div>
                        <h4 class="comment">댓글</h4>
                        <div style="height: 24px;"></div>
                        <!-- 로그인 했을때 -->
                        <th:block th:if="${not #strings.isEmpty(session.member)}">
                            <div class="comment-box2">
                                <div class="comment-box-wrapper2">
                                    <textarea class="comment-box-span" name="content" placeholder="댓글을 작성해 주세요..."></textarea>
                                </div>
                                <div class="singUp-btn">
                                    <button class="singUp1">취소</button>
                                    <button class="singUp" type="button">등록</button>
                                </div>
                            </div>
                        </th:block>
                        <!-- 로그인 안했을때 -->
                        <th:block th:unless="${not #strings.isEmpty(session.member)}">
                            <div class="comment-box">
                                <div class="comment-box-container">
                                    <div class="comment-box-wrapper">
                                        <span class="comment-box-p">댓글을 작성하려면 로그인을 해주세요.</span>
                                    </div>
                                    <div class="comment-Nologin">
                                        <a href="/member/login">
                                            <button class="comment-Nologin-btn">로그인</button>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </th:block>
                        <!--  -->
                        <div style="height: 33px;"></div>
                        <!-- 댓글 없을때 -->
                        <ul class="comment-lists"><!-- 댓글 있을때 --></ul>
                        <!--  -->
                        <div style="height: 24px;"></div>
                        <div id="comment-btn">
                            <button class="comment-btn">
                                <div class="comment-text">
                                    댓글 더 보기
                                    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="comment-svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.27 8.42a1.076 1.076 0 0 1 1.587-.13L12 14.832l7.143-6.544a1.076 1.076 0 0 1 1.586.13 1.26 1.26 0 0 1-.122 1.696L12 18l-8.607-7.885A1.26 1.26 0 0 1 3.27 8.42Z"></path></svg>
                                </div>
                            </button>
                        </div>
                    </div>
                    <div style="height: 40px;"></div>
                    <div class="border-line"></div>
                    <div style="height: 28px;"></div>
                    <section></section>
                </main>
            </div>
            <footer class="footer">
                <div class="footer-container">
                    <div class="footer-wrapper">
                        <div style="display: flex;">
                            <button class="footer-btn">
                                <svg viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg" class="footer-svg"><path clip-rule="evenodd" d="M8.144 13.563v2l2.543-2h2.396a2.74 2.74 0 0 0 2.741-2.74V7.073a2.74 2.74 0 0 0-2.74-2.74h-6.01a2.74 2.74 0 0 0-2.74 2.74v4.012a2.477 2.477 0 0 0 2.477 2.477h1.333Zm-.104 3.778a.815.815 0 0 1-1.23-.702v-1.743A3.81 3.81 0 0 1 3 11.086V7.074A4.074 4.074 0 0 1 7.074 3h6.01a4.074 4.074 0 0 1 4.073 4.074v3.748a4.074 4.074 0 0 1-4.074 4.074h-1.935L8.04 17.341Z"></path><path d="M8.167 9a.667.667 0 1 1-1.334 0 .667.667 0 0 1 1.334 0ZM10.667 9a.667.667 0 1 1-1.334 0 .667.667 0 0 1 1.334 0ZM13.167 9a.667.667 0 1 1-1.334 0 .667.667 0 0 1 1.334 0Z"></path></svg>
                                <span style="margin-left: 4px;" th:text="${freeBoardDTO.replyCount}">6</span>
                            </button>
                        </div>
                    </div>
                </div>
            </footer>
        </div>
         <footer th:insert="~{main/footer.html :: mainFooter}"></footer>
    </div>

     <!-- -->

     <!-- 댓글 삭제 모달창 -->
     <div id="modal-wrap">
     </div>
</body>
<script src="https://code.jquery.com/jquery-3.6.3.min.js"></script>
<script th:inline="javascript">
    let member = [[${session.member}]];
    let memberId;
    if(member){
        memberId = member.id;
    }

    const freeBoardDTO = [[${freeBoardDTO}]];
    const boardId = freeBoardDTO.id;
    const fileDTOS = [[${freeBoardDTO.fileDTOS}]];

    /* 날짜 변환 (년, 월, 일) */
    function changeDateToString(e){
        let month = "";
        date = new Date(e.createdDate);
        month = date.getMonth() + 1;
        if (month < 10){
            month = "0" + month;
        }
        return date.getFullYear() + "." + month + "." + date.getDate();
    }
</script>
<script src="/js/main/header.js"></script>
<script src="/js/community/free-detail.js"></script>
</html>